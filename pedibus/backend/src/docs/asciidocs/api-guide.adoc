//todo poi cancellare
//tradurre tutto in ita
//Come struttura generale terrei:
//-example request
//-CURL request
//-Example response-body e se il body non c'è http-response
= RESTful Notes API Guide
:doctype: book
:icons: font
:source-highlighter: highlightjs
:toc: left
:toclevels: 4
:sectlinks:

[[overview]]
= Overview
Intro intro intro

[[resources-lines-access]]
== Linee

=== Lista id linee

`GET /lines` is used to retrive the lines

==== Example Request

include::{snippets}/get-lines/http-request.adoc[]

==== CURL request

include::{snippets}/get-lines/curl-request.adoc[]

==== Example Response body

include::{snippets}/get-lines/response-body.adoc[]

== Gestione disponibilità

=== Recupero disponibilità

`GET /disp/{verso}/{data}` permette a una guide/admin di una linea di recuperare la propria disponibilità e lo stato del relativo turno


==== Example Request

include::{snippets}/get-disp/http-request.adoc[]

==== CURL request

include::{snippets}/get-disp/curl-request.adoc[]

==== Example Response body

include::{snippets}/get-disp/response-body.adoc[]


=== Aggiunta disponibilità

`POST /disp/{idLinea}/{verso}/{data} @RequestBody Integer idFermata` permette a una GUIDE di aggiungere una disponibilità

==== Example Request

include::{snippets}/post-disp/http-request.adoc[]

==== CURL request

include::{snippets}/post-disp/curl-request.adoc[]

==== Example response body

include::{snippets}/post-disp/response-body.adoc[]


=== Cancellazione disponibilità

`DELETE /disp/{idLinea}/{verso}/{data}` permette a una GUIDE di cancellare una disponibilità

==== Example Request 

include::{snippets}/delete-disp/http-request.adoc[]

==== CURL request

include::{snippets}/delete-disp/curl-request.adoc[]

==== Example response

include::{snippets}/delete-disp/http-response.adoc[]


== Gestione turni

=== Recupero stato turno

`GET /turno/state/{idLinea}/{verso}/{data}` permette all'admin di una linea di recuperare lo stato di un turno

==== Example Request

include::{snippets}/get-turno/http-request.adoc[]

==== CURL request

include::{snippets}/get-turno/curl-request.adoc[]

==== Example Response body

include::{snippets}/get-turno/response-body.adoc[]


=== Modifica stato turno

A `PUT /turno/state/{idLinea}/{verso}/{data} @RequestBody Boolean isOpen` è usata per settare lo stato di un turno

==== Example Request

include::{snippets}/put-turno/http-request.adoc[]

==== CURL request

include::{snippets}/put-turno/curl-request.adoc[]

==== Example Response

include::{snippets}/put-turno/http-response.adoc[]


=== Lista disponibilità per turno

`GET /turno/disp/{idLinea}/{verso}/{data}` è usata per recuperare una List<DispAllResource> con tutte le disponibilità per un determinato turno

==== Example Request

include::{snippets}/get-turno-disp/http-request.adoc[]

==== CURL request

include::{snippets}/get-turno-disp/curl-request.adoc[]

==== Example Response body

include::{snippets}/get-turno-disp/response-body.adoc[]


=== Conferma disponibilità per turno

`POST /turno/disp/{idLinea}/{verso}/{data} @RequestBody DispAllResource` è usato per confermare/rifiutare una disponibilità.
N.B il turno deve prima essere chiuso con l'apposita PUT

==== Example Request

include::{snippets}/post-turno-disp/http-request.adoc[]

==== Example Response

include::{snippets}/post-turno-disp/http-response.adoc[]


==== CURL request

include::{snippets}/post-turno-disp/curl-request.adoc[]

=== Ack della conferma della disponibilità

`POST /turno/disp/ack/{idLinea}/{verso}/{data}` Permette alle guide confermate di ack la loro conferma.
N.B il turno deve prima essere chiuso con l'apposita PUT

==== Example Request

include::{snippets}/post-disp-ack/http-request.adoc[]

==== CURL request

include::{snippets}/post-disp-ack/curl-request.adoc[]

==== Example Response

include::{snippets}/post-disp-ack/http-response.adoc[]

== Notifiche

=== Lista notifiche non lette

`GET /notifiche/all/{username}` is used to retrive the notifications

==== Example Request

include::{snippets}/get-notifiche/http-request.adoc[]

==== CURL request

include::{snippets}/get-notifiche/curl-request.adoc[]

==== Example Response body

include::{snippets}/get-notifiche/response-body.adoc[]


=== Lista notifiche Base non lette

`GET /notifiche/base/{username}` is used to retrive the notifications

==== Example Request

include::{snippets}/get-notifiche-base/http-request.adoc[]

==== CURL request

include::{snippets}/get-notifiche-base/curl-request.adoc[]

==== Example Response body

include::{snippets}/get-notifiche-base/response-body.adoc[]


=== Lista notifiche Disponibilità non lette

`GET /notifiche/disp/{username}` is used to retrive the notifications

==== Example Request

include::{snippets}/get-notifiche-disp/http-request.adoc[]

==== CURL request

include::{snippets}/get-notifiche-disp/curl-request.adoc[]

==== Example Response body

include::{snippets}/get-notifiche-disp/response-body.adoc[]


=== Elimina una notifica

`DELETE /notifiche/{idNotifica}` is used to remove the notification

==== Example Request

include::{snippets}/delete-notifica/http-request.adoc[]

==== CURL request

include::{snippets}/delete-notifica/curl-request.adoc[]

==== Example Response body

include::{snippets}/delete-notifica/response-body.adoc[]




